<style>
 
video{
    border: 1px solid #999999;
    width: 98%;
    max-width: 860px;
}
</style>
 
<h1 style="text-align: center;">Biscord</h1>
 
<button id="start">Start capture</button>
 
<button id="stop">Stop capture</button>
 
<video id="video" autoplay></video>
 
<script>
    const videoElement = document.getElementById("video")
    const start = document.getElementById("start")
    const stop = document.getElementById("stop")
 
    var displayMediaOptions = {
        video:{
            cursor:'always'
        },
        audio:true
    } 
   
    start.addEventListener("click",function(e){
        startCapture()
    },false)
 
    stop.addEventListener("Click", function(e){
        stopCapture()
    },false)
 
    async function startCapture(){
 
        try{
                        //Display is to see screen and User is to use camara
            videoElement.srcObject = await navigator.mediaDevices.getDisplayMedia(displayMediaOptions)
 
 
        }catch(err){
            console.error("Error"+ err)
        }
 
    }
 
    function StopCapture(e){
          let tracks = videoElement.srcObject.getTracks()
          
          Tracks.forEach(track => track.stop())
     
          videoElement.srcObject = null
    }
 
</script>
